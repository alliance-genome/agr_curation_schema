id: https://github.com/alliance-genome/agr_curation_schema/core.yaml
name: Alliance-Schema-Prototype-Core
title: Alliance Schema Prototype Core
description: Alliance Schema Prototype with LinkML

default_prefix: alliance
default_range: string

default_curi_maps:
  - obo_context
  - idot_context
  - semweb_context
  - monarch_context

emit_prefixes:
  - rdf
  - rdfs
  - xsd
  - skos

imports:
  - linkml:types
  - reference
  - resource
  - genomic
  - crossReference
  - person
  - image

prefixes:
  alliance: 'http://alliancegenome.org'
  linkml: 'https://w3id.org/linkml/'
  gff: 'https://w3id.org/gff'
  faldo: 'http://biohackathon.org/resource/faldo#'
  biolink: 'https://w3id.org/biolink/vocab/'
  NLMID: 'https://www.ncbi.nlm.nih.gov/nlmcatalog/?term='
  schema: 'http://schema.org/'
  skos: 'http://www.w3.org/2004/02/skos/core#' # quotes are option - be consistent. check if this is needed in all yaml files.

## ------------
## TYPES
## ------------

types:

  biological_sequence:
    typeof: string

## ------------
## CLASSES
## ------------


classes:

  Entity:

  BiologicalEntity:
    mixins:
      - AuditedObject
    description: >-
      A high-level entity comprising .
    abstract: true
    slots:
      - curie
      - taxon

  GenomicEntity:
    is_a: BiologicalEntity
    slots:
      - name
      - synonyms
      - cross_references
      - secondary_identifiers

  Transcript:
    is_a: GenomicEntity
    description: >-
      Placeholder.
    id_prefixes:
      - ENSEMBL
      - FB
      - WB
      - MGI
      - RGD
      - SGD
      - ZFIN

  Gene:
    description: >-
      Placeholder.
    is_a: GenomicEntity
    slots:
      - curie
      - synonyms
      - secondary_identifiers
      - cross_references
      - genomic_locations
      - name
      - symbol
      - gene_synopsis
      - gene_synopsis_URL
      - type
      - automated_gene_description
    id_prefixes:
      - ENSEMBL
      - HGNC
      - FB
      - MGI
      - RGD
      - SGD
      - WB
      - ZFIN

  Species:

  Synonym:

  AuditedObject:
    mixin: true
    description: >-
      Some entity for which changes are tracked, including date/time of change
      and the agent responsible for the change.
    slots:
      - table_key
      - produced_by
      - creation_date
      - modified_by
      - date_last_modified

  Reagent:
    mixin: true
    description: >-
      A material entity used in experiments.
    slots:
      - generated_by
      - manufactured_by

  EntityStatement:
    description: >-
      Free-text describing some aspect of an entity.
    slots:
      - statement_subject
      - statement_type
      - statement_text
      - references

  Association:
    description: >-
      A typed association between two entities, supported by evidence.
    close_mappings:
      - biolink:association
    notes:
      Keeping this more generic than biolink:association by foregoing the
      "qualifiers" and "negated" slots.
      object
    slots:
      - subject
      - predicate
      - object
      - references

  EntitySynonym:
    is_a: Association
    description: >-
      A relationship between an entity and a synonym.
    slot_usage:
      object:
        range: Synonym
      predicate:
        range: entity_synonym_type_set
      references:
        description: >-
          The references in which the synonym is used to refer to the entity.

  ExternalDatabaseLink:
    description: >-
      Base relation that holds the identifier prefix, base url and url suffix to help in generating
      URLs in crossReferences.
    slots:
      - dbkey
      - prefix
      - url_prefix
      - url_suffix
      - prefix_page
      - prefix_order

## ------------
## SLOTS
## ------------

slots:

  curator_comment:
    description: >-
      A publicly visible explanatory note from curators about some entity.
    range: string

  url_prefix:
    description: >-
      The prefix of the url before the accession number.

  url_suffix:
    description: >-
      The suffix of the url after the accession number.

  prefix_order:
    description: >-
      The relative order of the resource when listed with other crossReferences.

  prefix_page:
    description: >-
      The cateogry of pages the resource in the context of the URL associated with the crossReference
      provides.  Equivalent to the 'page' attribute in the Alliance resourceDescriptor file.

  private_comment:
    description: >-
      A private explanatory note from curators about some entity, for internal
      use only.
    range: string

  uncertain:
    description: >-
      If set to true, then the related entity is uncertain.
    range: boolean

  statement_subject:
    description: >-
      The entity being described by the note.
    domain: EntityStatement

  statement_type:
    description: >-
      The type of free-text statement. For example: cytology, private,
      curator_comments.
    notes: >-
      Note types listed here as having range "string", but should probably be
      constrained to specific "enum" sets depending on the entity type.
    domain: EntityStatement
    range: string

  statement_text:
    description: >-
      Free-text describing some aspect of an entity.
    domain: EntityStatement
    range: string

  generated_by:
    description: >-
      Holds between a material entity and an Agent that generated it:
      e.g., "Thomas Blumenthal", "Kornberg Laboratory".
    required: false
    multivalued: true
    range: Agent

  manufactured_by:
    description: >-
      Holds between a material entity and an Agent that has manufactured it:
      e.g., "Molecular Probes".
    required: false
    multivalued: true
    range: Agent

  current:
    range: boolean

  curie:
    identifier: true
    required: true
    multivalued: false
    description: >-
      A unique identifier for a thing. Must be either a CURIE shorthand for a URI or a complete URI
    range: uriorcurie

  dbkey:
    description: >-
      Typically the primary key on the table.  Should be a global sequence in the database to insure
      uniqueness over the entire suite of tables.  Alternatively, could be a serial8 identifier.
      Tables with a dbkey should have an alternate key to establish uniqueness based on the data in the table.

  taxon:
    description: >-
      The taxon from which the biological entity derives.
    multivalued: false
    range: uriorcurie

  secondary_identifiers:
    aliases: ['secondary_ids']
    multivalued: true
    range: uriorcurie

  gene_synopsis:
    description: >-
      Gene description provided by source resource (ie: MOD gene description that is curated or
      automated via MOD internal processes).

  gene_synopsis_URL:
    description: >-
      Gene description reference URL provided by source resource (aka: MOD) in the case
      where the curated gene_synopsis has a reference URL outside of the MOD.

  automated_gene_description:
    description: >-
      Gene description generated via algorithm developed at the alliance.

  genomic_locations:
    domain: GenomicEntity
    range: GeneGenomicLocation
    multivalued: true

  table_key:
    description: >-
      The primary key for a specific table entry, unique for that table.
    notes: >-
      For internal use.
    multivalued: false
    range: integer

  creation_date:
    aliases: [ 'publication date' ]
    description: >-
      The date on which an entity was created. This can be applied to nodes or edges.
    exact_mappings:
      - dct:createdOn
      - WIKIDATA_PROPERTY:P577

  date_last_modified:
    description: >-
      Date on which an entity was last modified.
    range: date

  produced_by:
    description: >-
      The individual that created the entity.
    required: true
    multivalued: false
    domain: AuditedObject
    range: Person

  modified_by:
    description: >-
      The individual that last modified the entity.
    required: true
    multivalued: false
    domain: AuditedObject
    range: Person

  release:
    description: MOD release ID
    range: string

  data_provider:
    description: MOD that provided data
    multivalued: true
    range: string

  association_slot:
    abstract: true
    aliases: ['edge property', 'statement property']
    description: >-
      any slot that relates an association to another entity
    exact_mappings:
      - biolink:association_slot

  description:
    aliases: ['definition']
    description: >-
      a human-readable description of an entity

  name:
    description: >-
      a human-readable name for an entity
    required: false
    multivalued: false
    range: string

  cross_references:
    singular_name: cross_reference
    aliases: ['xrefs']
    description: >-
      Holds between an object and its CrossReferences.
    multivalued: true
    range: CrossReference

  symbol:
    description: >-
      Symbol for a particular thing
    exact_mappings:
      - biolink:symbol

  from_species:
    description: >-
      Holds between an entity and a Species.
    notes: >-
      This may be redundant with the "taxon" slot, but if not, then the
      distinct usage of "taxon" versus "from_species" needs clarification.
    range: Species

  synonyms:
    singular_name: synonym
    description: holds between a named thing and a synonym
    multivalued: true
    range: Synonym

  negated:
    range: boolean
    description: if set to true, then the association is negated i.e. is not true

  qualifiers:
    singular_name: qualifier
    description: >-
      This is the MeSH qualifier term that is optionally added to the descriptor term.

  type:
    range: uriorcurie

  taxon_id:
    description: NCBI taxid
    range: integer

  references:
    singular_name: reference
    description: holds between an object and a reference
    multivalued: true
    range: Reference

  original_reference:
    is_a: references
    description: >-
      Holds between an entity and the first reference to describe that entity.
    multivalued: false
    range: Reference

  is_obsolete:
    description: >-
      Entity is no longer current.
    notes: >-
      Obsolete entities are preserved in the database for posterity but should
      not be publicly displayed.

## --------------------
## ASSOCIATION SLOTS
## --------------------

  subject:
    is_a: association_slot
    description: >-
      connects an association to the subject of the association.
      For example, in a gene-to-phenotype association, the gene is subject and phenotype is object.
    required: true
    exact_mappings:
      - owl:annotatedSource
      - biolink:subject

  object:
    is_a: association_slot
    description: >-
      connects an association to the object of the association.
      For example, in a gene-to-phenotype association, the gene is subject and phenotype is object.
    required: true
    exact_mappings:
      - biolink:object

  predicate:
    is_a: association_slot
    description: >-
      A high-level grouping for the relationship type. This is analogous to category for nodes.
      In RDF, this corresponds to rdf:predicate and in Neo4j this corresponds to the
      relationship type.
    required: true
    exact_mappings:
      - biolink:predicate

## ----------
## PREDICATES
## ----------

  related_to:                         # should this be generalized in core.yaml?
    description: >-
      A relationship that is asserted between two named things.
    multivalued: true
    inherited: true
    symmetric: true
#    exact_mappings:
#      - biolink:related_to
#      - skos:relatedMatch
#      - SEMMEDDB:ASSOCIATED_WITH
#      - SEMMEDDB:associated_with

enums:

  entity_synonym_type_set:
    permissible_values:
      current:
        description: >-
          The synonym is an "officially" accepted synonym for an entity.
          An entity should have only one current synonym of a give type.
          For example, only one current symbol and one current full name.
      alias:
        description: >-
          The synonym is an alternate symbol or name for the entity. It is not
          the currently preferred symbol/name for the entity.