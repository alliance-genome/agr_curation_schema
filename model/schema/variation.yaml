id: https://github.com/alliance-genome/agr_curation_schema/src/schema/variation
name: Alliance-Schema-Prototype-Variation
title: Alliance Schema Prototype Variation

imports:
  - core
  - allele
  - linkml:types
  - informationContentEntity
  - ontologyTerm

prefixes:
  alliance: 'http://alliancegenome.org'
  linkml: 'https://w3id.org/linkml/'
  gff: 'https://w3id.org/gff'
  faldo: 'http://biohackathon.org/resource/faldo#'
  biolink: 'https://w3id.org/biolink/vocab/'
  NLMID: 'https://www.ncbi.nlm.nih.gov/nlmcatalog/?term='
  schema: 'http://schema.org/'

# Classes

classes:

  Variant:
    is_a: GenomicEntity
    description: >-
      A DNA sequence that differs relative to a designated
      reference sequence.  The sequence occurs at a single
      position or in contiguous nucleotides.
    slots:
      - variant_type
      - references
      - related_notes
      - source_general_consequence
      - evidence_code
      - variant_locations
      - source_variant_locations
    exact_mappings:
      - SO:0001059

  SourceVariantLocation:
    description:
      Links a paper to the variant locations described in that paper
    slots:
      - variant_locations
      - single_reference
    slot_usage:
      single_reference:
        required: true

  VariantLocation:
    abstract: true
    description: >-
      Base class linking a variant to a position on a genomic entity.
    slots:
      - evidence_code
      - hgvs
      - start_position
      - end_position
      - reference_sequence
      - variant_sequence
      - consequence
    slot_usage:
      evidence_code:
        required: false

  VariantGenomeLocation:
    is_a: VariantLocation
    description: >-
      Links a variant to a genomic position.
    slots:
      - assembly
      - chromosome

  VariantTranscriptLocation:
    is_a: VariantLocation
    description: >-
      Links a variant to a position on a transcript.
    slots:
      - transcript

  VariantPolypeptideLocation:
    is_a: VariantLocation
    description: >-
      Links a variant to a position on a polypeptide.
    slots:
      - polypeptide
      - associated_transcripts


# Slots

slots:

  variant_type:
    description: >-
      SOTerm describing the type of variant
    required: true
    multivalued: false
    domain: Variant
    range: SOTerm

  source_general_consequence:
    description: >-
      SOTerm (child of SO:0001576 - transcript_variant) that describes the
      consequence of the variant, as stated in the source reference when no
      transcript ID is provided.
    required: false
    multivalued: false
    domain: Variant
    range: SOTerm

  consequence:
    description: >-
      SOTerm (child of SO:0001576 - transcript_variant) that describes the
      consequence of the variant, as stated in the source reference.
    required: false
    multivalued: false
    domain: VariantLocation
    range: SOTerm

  variant_locations:
    description: >-
      Location of the variant within genomic entities as determined by curators.
    required: true
    multivalued: true
    domain: Variant
    range: VariantLocation

  source_variant_locations:
    description: >-
      Location of the variant within genomic entities,as described in the source
      references.
    required: false
    multivalued: true
    domain: Variant
    range: SourceVariantLocation

  hgvs:
    description: >-
      HGVS nomenclature for variant located on a genomic entity.
    required: true
    domain: VariantLocation
    range: string

  # May want to remove domain of following 8 slots and move them to core
  # so that they can be used for alignment of other genomic entities
  assembly:
    description: >-
      Assembly to which variant is aligned.
    multivalued: false
    required: false
    domain: VariantLocation
    range: Assembly

  chromosome:
    description: >-
      Chromosome to which variant is aligned.
    multivalued: false
    required: false
    domain: VariantLocation
    range: Chromosome

  start_position:
    description: >-
      Start position of variant on genomic entity.
    multivalued: false
    required: false
    domain: VariantLocation
    range: integer

  end_position:
    description: >-
      End position of variant on genomic entity.
    multivalued: false
    required: false
    domain: VariantLocation
    range: integer

  reference_sequence:
    description: >-
      Reference sequence of genome or genomic entity at position of aligned
      variant.
    multivalued: false
    required: false
    domain: VariantLocation
    range: biological_sequence

  variant_sequence:
    description: >-
      Variant sequence of genome or genomic entity at position of variant.
    multivalued: false
    required: false
    domain: VariantLocation
    range: biological_sequence

  transcript:
    description: >-
      Transcript associated with variation.
    required: false
    multivalued: false
    domain: VariantTranscriptLocation
    range: Transcript

  polypeptide:
    description: >-
      Polypeptide associated with variation.
    required: false
    multivalued: false
    domain: VariantPolypeptideLocation
    range: Protein # Do we need to distinguish polypeptide from protein?

  associated_transcripts:
    description:
      Transcript(s) associated with polypeptide to which variant is aligned.
    required: false
    multivalued: true
    domain: VariantPolypeptideLocation
    range: Transcript
