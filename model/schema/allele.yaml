id: https://github.com/alliance-genome/agr_curation_schema/src/schema/allele
name: Alliance-Schema-Prototype-Allele
title: Alliance Schema Prototype Allele

imports:
  - core
  - image
  - gene
  - variation
  - linkml:types
  - ontologyTerm
  - affectedGenomicModel

prefixes:
  alliance: 'http://alliancegenome.org/'
  linkml: 'https://w3id.org/linkml/'
  gff: 'https://w3id.org/gff'
  faldo: 'http://biohackathon.org/resource/faldo#'
  biolink: 'https://w3id.org/biolink/vocab/'
  NLMID: 'https://www.ncbi.nlm.nih.gov/nlmcatalog/?term='
  schema: 'http://schema.org/'

default_prefix: alliance
default_range: string

default_curi_maps:
  - obo_context
  - idot_context
  - semweb_context
  - monarch_context

emit_prefixes:
  - rdf
  - rdfs
  - xsd
  - owl

# Classes


classes:

  Allele:
    is_a: GenomicEntity
    description: >-
      One of multiple possible forms of a functional genomic
      element (most often described as a locus or gene),
      differing from the reference DNA sequence.  The genomic
      element can be endogenous or constructed.
    slots:
      - symbol
      - references
      - inheritence_mode
      - in_collection
      - is_extinct
      - sequencing_status
    exact_mappings:
      - SO:0001023
    slot_usage:
      synonyms:
        description: synonyms for allele names and synonyms
      aberration:
        notes: specific to FB
      name:
        required: true

# SlotAnnotations
  AlleleSlotAnnotation:
    is_a: SlotAnnotation
    slots:
      - allele
      - evidence

  AlleleMutationTypeAnnotation:
    is_a: AlleleSlotAnnotation
    slots:
      - mutation_type

  AlleleGermlineTransmissionStatusAnnotation:
    is_a: AlleleSlotAnnotation
    slots:
      - germline_transmission_status

  AlleleFunctionalImpactAnnotation:
    is_a: AlleleSlotAnnotation
    slots:
      - functional_impact

  AlleleMolecularMutationAnnotation:
    is_a: AlleleSlotAnnotation
    slots:
      - molecular_mutations

  AlleleDatabaseStatusAnnotation:
    is_a: AlleleSlotAnnotation
    slots:
      - database_status
# Auxiliary classes

  AlleleOrigin:
    is_a: AuditedObject
    description: >-
      Affected genomic models that the allele was introduced in and associated
      evidence
    slots:
      - origin
      - analyses
    slot_usage:
      analyses:
        description: Analyses providing evidence for AGM of origin
      origin:
        range: AffectedGenomicModel

  GenerationMethod:
    is_a: AuditedObject
    slots:
      - mutagenesis_method
      - mutagen
      - generation_method

# Allele Associations

  AlleleSecondaryIdAnnotation:
    is_a: AlleleSlotAnnotation
    slots:
      - secondary_id

  AlleleNomenclatureAnnotation:
    is_a: AlleleSlotAnnotation
    slots:
      - nomenclature_event

  AlleleGenerationMethodAssociation:
    is_a: Assocation
    slots:
      - evidence
    slot_usage:
      subject:
        range: Allele
      object:
        range: GenerationMethod

  AlleleOriginAssociation: # could be part of more general AlleleAgmAssociation?
    is_a: Association
    description: >-
      The relationship between an allele and an AGM in which it was introduced.
    slot_usage:
      subject:
        range: AlleleOrigin
      predicate:
        range: VocabularyTerm
      object:
        range: AffectedGenomicModel

  AlleleGenomicEntityAssociation:
    is_a: Association
    abstract: true
    description: >-
      Association between an allele and a genomic entity
    slots:
      - evidence
      - evidence_code
      - related_note
    slot_usage:
      subject:
        range: Allele
      predicate:
        range: ROTerm
      object:
        range: GenomicEntity

  AlleleGeneAssociation:
    is_a: AlleleGenomicEntityAssociation
    description: >-
      Association between an allele and a gene
    slot_usage:
      object:
        range: Gene

  AlleleTranscriptAssociation:
    is_a: AlleleGenomicEntityAssociation
    description: >-
      Association between an allele and a transcript
    slot_usage:
      object:
        range: Transcript

  AlleleProteinAssociation:
    is_a: AlleleGenomicEntityAssociation
    description: >-
      Association between an allele and a protein
    slot_usage:
      object:
        range: Protein

  AlleleVariantAssociation:
    is_a: AlleleGenomicEntityAssociation
    description: >-
      The relationship between an allele and a variant is many to many. An
      Allele may have many variants and a variant can be present in many
      alleles.
    slot_usage:
      subject:
        range: Allele
      object:
        range: Variant

  AlleleConstructAssociation:
    is_a: AlleleGenomicEntityAssociation
    description: >-
      The relationship between an allele and constructs contained in
      that allele.
    slot_usage:
      subject:
        range: Allele
      predicate:
        notes: RO:0001019 (contains)
      object:
        range: Construct

  AlleleCellLineAssociation: # do mutant/parent/embryonic cell line associations need to be split out?
    is_a: Association
    description: >-
      The relationship between an allele and a cell line.  Includes mutant/
      embryonic stem cell lines known to carry the allele, and parental cell
      line of alleles made in embryonic stem cells.
    slot_usage:
      subject:
        range: Allele
      predicate:
        range: VocabularyTerm
      object:
        range: CellLine

  AlleleImageAssociation:
    is_a: Association
    description: >-
      The relationship between an allele and an image.
    slot_usage:
      subject:
        range: Allele
      predicate:
        range: VocabularyTerm
      object:
        range: Image

  AlleleNotesAssociation:
    is_a: Association
    description: >-
      The relationship between an allele and a note.
    slot_usage:
      subject:
        range: Allele
      object:
        range: Note

  AlleleSynonymAssociation:
    is_a: Association
    description: >-
      The relationship between an allele and a synonym.
    slots:
      - synonym_scope
    slot_usage:
      subject:
        range: Allele
      object:
        range: Synonym


# Other classes roughly grouped with the Allele class because they have relationships to Allele and were
# designed close to the time the Allele class was designed.  These could be broken out into their own yaml files.

  Construct:
    is_a: GenomicEntity
    description: >-
    slot_usage:
      curie:
        required: true
        identifier: true
      name:
        required: true
    slots:
      - construct_components
      - references

  CellLine:
    is_a: AuditedObject
    description: >-
      Dummy cell line class

  SequenceTargetingReagent:
    description: >-
    is_a: GenomicEntity
    slots:
      - references
    slot_usage:
      curie:
        identifier: true
      name:
        required: true

  SequenceTargetingReagentToGeneAssociation:
    description: the relationship between a Sequence Targeting Reagent and its targeted genes.
    is_a: Association
    slots:
      - references
    slot_usage:
      predicate:
        range: sqtr_relation_enum
      subject:
        range: SequenceTargetingReagent
      object:
        range: Gene

  ConstructComponentAssociation:
    is_a: Association
    slot_usage:
      predicate:
        range: construct_component_relation_enum
      subject:
        range: Construct
      object:
        range: ConstructComponent

  ConstructComponent:
    is_a: GenomicEntity
    slots:
      - symbol

# Slots
slots:

  allele:
    range: uriorcurie

  evidence:
    description: >-
    range: InformationContentEntity

  construct_components:
    multivalued: true
    domain: Construct
    range: GenomicEntity

  molecular_mutations:
    description: >-
      Description of the DNA changes if precise
      genomic location unknown
    domain: Allele
    multivalued: true
    range: string

  mutation_type:
    description: SO term for type of mutation
    domain: Allele
    range: SOTerm

  mutation_description:
    description: >-
      Additional information about the nature of the mutation not captured
      by the SOTerm

  functional_impact:
    description: >-
      Experimentally assessed functional impact of the
      allele, e.g. knockout / amorphic
    domain: Allele
    range: string
    multivalued: true

  generation_method:
    description: >-
      Technique used to create the allele, e.g.
      spontaneous / naturally occuring / radiation
    domain: Allele
    range: string
    multivalued: false

  germline_transmission_status:
    description: >-
      For alleles made in cell lines, have they been
      transmitted to the germline of an animal
    domain: Allele
    range: VocabularyTerm

  database_status:
    description: >-
      Database status of the allele
    range: VocabularyTerm

  inheritence_mode:
    description: >-
      Mode of inheritence, e.g. dominant / semi-dominant /
      recessive / unknown
      # TODO: please enumerate the difference between this and zygosity in AffectedGenomicModel class.
    domain: Allele
    range: VocabularyTerm

  in_collection:
    description: >-
      Set of high-throughput alleles made by large projects
    domain: Allele
    range: VocabularyTerm

  transposon_insertion:
    description: >-
      Associated transposon insertion that causes the
      mutation
    domain: Allele
    range: string

  aberration:
    description: >-
      Associated deficiency (etc.) whose breakpoint causes
      the mutation
    domain: Allele
    range: string

  is_extinct:
    description: >-
      Does the allele still exist in a population somewhere?
    domain: Allele
    range: boolean

  sequencing_status:
    description: >-
      Status of whether or not the variant genomic location has been verified
      by sequencing
    domain: Variant
    range: VocabularyTerm

  analysis:
    description: >-
      # TODO: added as a result of 'origin' class - please advise on a more descriptive slot/class definition.

  nomenclature_event:
    description: >-
      any of the kinds of changes made to an object's name or symbol
    range: nomenclature_event_enum

enums:
  construct_component_relation_enum:
    permissible_values:
      expresses:
        meaning: RO:0002292
      is_regulated_by:
        meaning: RO:0002334
      targets:
        meaning: RO:0002436

  sqtr_relation_enum:
    permissible_values:
      targets:

  nomenclature_event_enum:
    permissible_values:
      named:
      renamed: