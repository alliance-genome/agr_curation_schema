id: https://github.com/alliance-genome/agr_curation_schema/src/schema/allele
name: Alliance-Schema-Prototype-Allele
title: Alliance Schema Prototype Allele

imports:
  - core
  - image
  - gene
  - variation
  - linkml:types
  - ontologyTerm
  - affectedGenomicModel

prefixes:
  alliance: 'http://alliancegenome.org/'
  linkml: 'https://w3id.org/linkml/'
  gff: 'https://w3id.org/gff'
  faldo: 'http://biohackathon.org/resource/faldo#'
  biolink: 'https://w3id.org/biolink/vocab/'
  NLMID: 'https://www.ncbi.nlm.nih.gov/nlmcatalog/?term='
  schema: 'http://schema.org/'

default_prefix: alliance
default_range: string

default_curi_maps:
  - obo_context
  - idot_context
  - semweb_context
  - monarch_context

emit_prefixes:
  - rdf
  - rdfs
  - xsd
  - owl

# Classes


classes:

  Allele:
    is_a: GenomicEntity
    description: >-
      One of multiple possible forms of a functional genomic
      element (most often described as a locus or gene),
      differing from the reference DNA sequence.  The genomic
      element can be endogenous or constructed.
    slots:
      - symbol
      - references
      - inheritance_mode
      - in_collection
      - is_extinct
      - sequencing_status
      - allele_mutation_types
      - allele_germline_transmission_status
      - allele_functional_impacts
      - allele_molecular_mutations
      - allele_database_status
      - allele_secondary_ids
      - allele_nomenclature_events
      - allele_notes
      - allele_synonyms
      - allele_gene_associations
      - allele_transcript_associations
      - allele_protein_associations
      - allele_variant_associations
      - allele_construct_associations
      - allele_cell_line_associations
      - allele_image_associations
      - allele_origin_associations
    exact_mappings:
      - SO:0001023
    slot_usage:
      synonyms:
        description: synonyms for allele names and synonyms
      aberration:
        notes: specific to FB
      symbol:
        required: true

  AlleleDTO:
    is_a: GenomicEntityDTO
    description: >-
      Ingest class for an Allele object
    slots:
      - symbol
      - reference_curies
      - inheritance_mode_name
      - in_collection_name
      - is_extinct
      - sequencing_status_name
      - allele_mutation_type_dtos
      - allele_germline_transmission_status_dto
      - allele_functional_impact_dtos
      - allele_molecular_mutation_dtos
      - allele_database_status_dto
      - allele_secondary_id_dtos
      - allele_nomenclature_event_dtos
      - allele_note_dtos
      - allele_synonym_dtos

  GenerationMethod:
    is_a: AuditedObject
    slots:
      - mutagenesis_method
      - mutagenesis_target

  GenerationMethodDTO:
    is_a: AuditedObjectDTO
    slots:
      - mutagenesis_method_name
      - mutagenesis_target

  AlleleMutationTypeSlotAnnotation:
    is_a: SlotAnnotation
    slots:
      - single_allele
      - mutation_types

  AlleleMutationTypeSlotAnnotationDTO:
    is_a: SlotAnnotationDTO
    slots:
      - mutation_type_curies

  AlleleGermlineTransmissionStatusSlotAnnotation:
    is_a: SlotAnnotation
    slots:
      - single_allele
      - germline_transmission_status

  AlleleGermlineTransmissionStatusSlotAnnotationDTO:
    is_a: SlotAnnotationDTO
    slots:
      - germline_transmission_status_name

  AlleleFunctionalImpactSlotAnnotation:
    is_a: SlotAnnotation
    slots:
      - single_allele
      - functional_impacts

  AlleleFunctionalImpactSlotAnnotationDTO:
    is_a: SlotAnnotationDTO
    slots:
      - functional_impact_names

  AlleleMolecularMutationSlotAnnotation:
    is_a: SlotAnnotation
    slots:
      - single_allele
      - molecular_mutations

  AlleleMolecularMutationSlotAnnotationDTO:
    is_a: SlotAnnotationDTO
    slots:
      - molecular_mutation_names

  AlleleDatabaseStatusSlotAnnotation:
    is_a: SlotAnnotation
    slots:
      - single_allele
      - database_status

  AlleleDatabaseStatusSlotAnnotationDTO:
    is_a: SlotAnnotationDTO
    slots:
      - database_status_name

  AlleleSecondaryIdSlotAnnotation:
    is_a: SlotAnnotation
    slots:
      - single_allele
      - secondary_id

  AlleleSecondaryIdSlotAnnotationDTO:
    is_a: SlotAnnotationDTO
    slots:
      - secondary_id

  AlleleNomenclatureEventSlotAnnotation:
    is_a: SlotAnnotation
    slots:
      - single_allele
      - nomenclature_event

  AlleleNomenclatureEventSlotAnnotationDTO:
    is_a: SlotAnnotationDTO
    slots:
      - nomenclature_event_name

  AlleleNoteSlotAnnotation:
    is_a: SlotAnnotation
    slots:
      - single_allele
      - related_note

  AlleleNoteSlotAnnotationDTO:
    is_a: SlotAnnotationDTO
    slots:
      - note_dto

  AlleleSynonymSlotAnnotation:
    is_a: SlotAnnotation
    slots:
      - single_allele
      - synonym
      - synonym_scope

  AlleleSynonymSlotAnnotationDTO:
    is_a: SlotAnnotationDTO
    slots:
      - synonym_dto
      - synonym_scope_name

# Allele Associations

  AlleleGenerationMethodAssociation:
    is_a: Association
    slots:
      - evidence
      - mutation_target_strain
    slot_usage:
      subject:
        range: Allele
      object:
        range: GenerationMethod

  AlleleGenerationMethodAssociationDTO:
    is_a: AuditedObjectDTO
    slots:
      - allele_curie
      - predicate_name
      - generation_method_dto
      - evidence_curies
      - mutation_target_strain_curie

  AlleleGenomicEntityAssociation:
    is_a: Association
    abstract: true
    description: >-
      Association between an allele and a genomic entity
    slots:
      - evidence
      - evidence_code
      - related_note
    slot_usage:
      subject:
        range: Allele
      predicate:
        range: ROTerm
      object:
        range: GenomicEntity
      evidence:
        required: true

  AlleleGenomicEntityAssociationDTO:
    is_a: AuditedObjectDTO
    abstract: true
    slots:
      - allele_curie
      - ro_term_curie
      - evidence_curies
      - evidence_code_curie
      - note_dto
    slot_usage:
      evidence_curies:
        required: true

  AlleleGeneAssociation:
    is_a: AlleleGenomicEntityAssociation
    description: >-
      Association between an allele and a gene
    slot_usage:
      object:
        range: Gene

  AlleleGeneAssociationDTO:
    is_a: AlleleGenomicEntityAssociationDTO
    slots:
      - gene_curie

  AlleleTranscriptAssociation:
    is_a: AlleleGenomicEntityAssociation
    description: >-
      Association between an allele and a transcript
    slot_usage:
      object:
        range: Transcript

  AlleleTranscriptAssociationDTO:
    is_a: AlleleGenomicEntityAssociationDTO
    slots:
      - transcript_curie

  AlleleProteinAssociation:
    is_a: AlleleGenomicEntityAssociation
    description: >-
      Association between an allele and a protein
    slot_usage:
      object:
        range: Protein

  AlleleProteinAssociationDTO:
    is_a: AlleleGenomicEntityAssociationDTO
    slots:
      - protein_curie

  AlleleVariantAssociation:
    is_a: AlleleGenomicEntityAssociation
    description: >-
      The relationship between an allele and a variant is many to many. An
      Allele may have many variants and a variant can be present in many
      alleles.
    slot_usage:
      subject:
        range: Allele
      object:
        range: Variant

  AlleleVariantAssociationDTO:
    is_a: AlleleGenomicEntityAssociationDTO
    slots:
      - variant_curie

  AlleleConstructAssociation:
    is_a: AlleleGenomicEntityAssociation
    description: >-
      The relationship between an allele and constructs contained in
      that allele.
    slot_usage:
      subject:
        range: Allele
      predicate:
        notes: RO:0001019 (contains)
      object:
        range: Construct

  AlleleConstructAssociationDTO:
      is_a: AlleleGenomicEntityAssociationDTO
      slots:
        - construct_curie

  AlleleCellLineAssociation: # do mutant/parent/embryonic cell line associations need to be split out?
    is_a: Association
    description: >-
      The relationship between an allele and a cell line.  Includes mutant/
      embryonic stem cell lines known to carry the allele, and parental cell
      line of alleles made in embryonic stem cells.
    slot_usage:
      subject:
        range: Allele
      predicate:
        range: VocabularyTerm
      object:
        range: CellLine

  AlleleCellLineAssociationDTO:
      is_a: AuditedObjectDTO
      slots:
        - allele_curie
        - predicate_name
        - cell_line_curie

  AlleleImageAssociation:
    is_a: Association
    description: >-
      The relationship between an allele and an image.
    slots:
      - primary_image
    slot_usage:
      subject:
        range: Allele
      predicate:
        range: VocabularyTerm
      object:
        range: Image
      primary_image:
        description: >-
          Can be null; if false, maybe you would show all the images.
          We need to revisit this issue.

  AlleleImageAssociationDTO:
    is_a: AuditedObjectDTO
    slots:
      - allele_curie
      - predicate_name
      - image_curie
      - primary_image

  AlleleOriginAssociation:
    is_a: Association
    description: >-
      The relationship between an allele and the origin of the allele.
    slot_usage:
        subject:
            range: Allele
        object:
            range: AffectedGenomicModel

  AlleleOriginAssociationDTO:
    is_a: AuditedObjectDTO
    slots:
      - allele_curie
      - predicate_name
      - agm_curie

# Other classes roughly grouped with the Allele class because they have relationships to Allele and were
# designed close to the time the Allele class was designed.  These could be broken out into their own yaml files.

  Construct:
    is_a: GenomicEntity
    description: >-
    slot_usage:
      curie:
        identifier: true
      name:
        required: true
    slots:
      - construct_components
      - references

  CellLine:
    is_a: GenomicEntity
    description: >-
      Dummy cell line class

  SequenceTargetingReagent:
    description: >-
    is_a: GenomicEntity
    slots:
      - references
    slot_usage:
      curie:
        identifier: true
      name:
        required: true

  SequenceTargetingReagentToGeneAssociation:
    description: >-
      the relationship between a Sequence Targeting Reagent and its targeted
      genes. The predicate should be a VocabularyTerm with one of the following
      values - targets
    is_a: Association
    slots:
      - references
    slot_usage:
      predicate:
        range: VocabularyTerm
      subject:
        range: SequenceTargetingReagent
      object:
        range: Gene

  ConstructComponentAssociation:
    is_a: Association
    description: >-
      The predicate should be a VocabularyTerm with one of the following
      values - expresses (RO:0002292) / is_regulated_by (RO:0002334) /
      targets (RO:0002436)
    slot_usage:
      predicate:
        range: VocabularyTerm
      subject:
        range: Construct
      object:
        range: ConstructComponent

  ConstructComponent:
    is_a: GenomicEntity
    slots:
      - symbol

# Slots
slots:

  primary_image:
    description: >-
      The primary image for an allele that is used to represent the allele on a page.

  single_allele:
    range: Allele

  allele_curie:
    range: string
    required: true

  ro_term_curie:
    range: string
    required: true

  construct_curie:
    range: string
    required: true

  cell_line_curie:
    range: string
    required: true

  mutagenesis_method:
    alias: ["mutagen"]
    range: VocabularyTerm
    description: >-
      Technique used to create the allele, e.g.
      spontaneous / naturally occurring / radiation-induced / recombinant /
      ENU / CRISPR / TALEN / gamma rays / not specified / spontaneous / DNA /
      DNA AND CRISPR / DNA and TALEN / zinc finger nuclease / EMS

  mutagenesis_method_name:
    description: >-
      Name of the VocabularyTerm describing the mutagenesis method, e.g.
      spontaneous / naturally occurring / radiation-induced / recombinant /
      ENU / CRISPR / TALEN / gamma rays / not specified / spontaneous / DNA /
      DNA AND CRISPR / DNA and TALEN / zinc finger nuclease / EMS
    domain: AlleleGenerationMethodAssociationDTO
    range: string

  mutagenesis_target:
    alias: ["mutagee"]
    description: >-
      The target of the mutation, e.g. strain / adult females /
      adult males / embryos / sperm / not specified
    range: string # VocabularyTerm?

  mutation_target_strain:
    description: >-
      The particular strain (solely for and from MGI) that is targeted
      by the generation method for a particular allele.
    range: AffectedGenomicModel

  mutation_target_strain_curie:
    description: >-
      Curie of the particular strain that is targeted by the generation method
      for a particular allele (MGI only)
    domain: AlleleGenerationMethodAssociationDTO
    range: string

  generation_method_dto:
    domain: AlleleGenerationMethodAssociationDTO
    range: GenerationMethodDTO

  construct_components:
    multivalued: true
    domain: Construct
    range: GenomicEntity

  allele_molecular_mutations:
    description: Molecular mutations of a given allele
    domain: Allele
    range: AlleleMolecularMutationSlotAnnotation
    multivalued: true

  molecular_mutations:
    description: >-
      Description of the DNA changes if precise
      genomic location unknown
    domain: AlleleMolecularMutationSlotAnnotation
    range: string
    multivalued: true

  allele_molecular_mutation_dtos:
    domain: AlleleDTO
    range: AlleleMolecularMutationSlotAnnotationDTO
    multivalued: true
    inlined: true
    inlined_as_list: true

  molecular_mutation_names:
    description: >-
      Name of the VocabularyTerm describing the molecular mutation
    domain: AlleleMolecularMutationSlotAnnotationDTO
    range: string
    multivalued: true

  allele_mutation_types:
    description: Mutation types for a given allele
    domain: Allele
    range: AlleleMutationTypeSlotAnnotation
    multivalued: true

  allele_mutation_type_dtos:
    domain: AlleleDTO
    range: AlleleMutationTypeSlotAnnotationDTO
    multivalued: true
    inlined: true
    inlined_as_list: true

  mutation_types:
    description: SO term for type of mutation
    domain: AlleleMutationTypeSlotAnnotation
    range: SOTerm
    multivalued: true

  mutation_type_curies:
    description: Curies of SOTerms representing mutation type
    domain: AlleleMutationTypeSlotAnnotationDTO
    range: string
    multivalued: true

  allele_functional_impacts:
    description: Functional impacts of a given allele
    domain: Allele
    range: AlleleFunctionalImpactSlotAnnotation
    multivalued: true

  allele_functional_impact_dtos:
    domain: AlleleDTO
    range: AlleleFunctionalImpactSlotAnnotationDTO
    multivalued: true
    inlined: true
    inlined_as_list: true

  functional_impacts:
    description: >-
      Experimentally assessed functional impact of the
      allele, e.g. knockout / amorphic
    domain: AlleleFunctionalImpactSlotAnnotation
    range: VocabularyTerm
    multivalued: true

  functional_impact_names:
    description: >-
      Name of the VocabularyTerm describing the functional impact
    domain: AlleleFunctionalImpactSlotAnnotationDTO
    range: string
    multivalued: true

  allele_germline_transmission_status:
    description: Germline transmission status for a given allele
    domain: Allele
    range: AlleleGermlineTransmissionStatusSlotAnnotation

  allele_germline_transmission_status_dto:
    domain: AlleleDTO
    range: AlleleGermlineTransmissionStatusSlotAnnotationDTO
    inlined: true

  germline_transmission_status:
    description: >-
      For alleles made in cell lines, have they been
      transmitted to the germline of an animal
    domain: AlleleGermlineTransmissionStatusSlotAnnotation
    range: VocabularyTerm

  germline_transmission_status_name:
    description: >-
      Name of the VocabularyTerm representing the germline transmission
      status
    domain: AlleleGermlineTransmissionStatusSlotAnnotationDTO
    range: string

  allele_database_status:
    description: Database status of a given allele
    domain: Allele
    range: AlleleDatabaseStatusSlotAnnotation

  allele_database_status_dto:
    domain: AlleleDTO
    range: AlleleDatabaseStatusSlotAnnotationDTO
    inlined: true

  database_status:
    description: >-
      Database status of the allele
    domain: AlleleDatabaseStatusSlotAnnotation
    range: VocabularyTerm

  database_status_name:
    description: >-
      Name of the VocabularyTerm describing the database status
    domain: AlleleDatabaseStatusSlotAnnotationDTO
    range: string

  inheritance_mode:
    description: >-
      Mode of inheritance, e.g. dominant / semi-dominant /
      recessive / unknown
      # TODO: please enumerate the difference between this and zygosity in AffectedGenomicModel class.
    domain: Allele
    range: VocabularyTerm

  inheritance_mode_name:
    description: >-
      Name of VocabularyTerm describing the inheritance mode from the 'Allele
      inheritance mode vocabulary' vocabulary
    domain: AlleleDTO
    range: string

  in_collection:
    description: >-
      Set of high-throughput alleles made by large projects
    domain: Allele
    range: VocabularyTerm

  in_collection_name:
    description: >-
      Name of VocabularyTerm describing the collection from the 'Allele
      collection vocabulary' Vocabulary
    domain: AlleleDTO
    range: string

  transposon_insertion:
    description: >-
      Associated transposon insertion that causes the
      mutation
    domain: Allele
    range: string

  aberration:
    description: >-
      Associated deficiency (etc.) whose breakpoint causes
      the mutation
    domain: Allele
    range: string

  is_extinct:
    description: >-
      Does the allele still exist in a population somewhere?
    domain: Allele
    range: boolean

  sequencing_status:
    description: >-
      Status of whether or not the variant genomic location has been verified
      by sequencing
    domain: Allele
    range: VocabularyTerm

  sequencing_status_name:
    description: >-
      Name of VocabularyTerm describing the sequencing status from the
      'Sequencing status vocabulary' vocabulary
    domain: AlleleDTO
    range: string

  analyses:
    description: >-
      # TODO: added as a result of 'origin' class - please advise on a more descriptive slot/class definition.

  allele_nomenclature_events:
    description: Nomenclature events of a given allele
    domain: Allele
    range: AlleleNomenclatureEventSlotAnnotation
    multivalued: true

  allele_nomenclature_event_dtos:
    domain: AlleleDTO
    range: AlleleNomenclatureEventSlotAnnotationDTO
    multivalued: true
    inlined: true
    inlined_as_list: true

  nomenclature_event:
    description: >-
      any of the kinds of changes made to an object's name or symbol
    notes: >-
      permissible_values: named/renamed
    domain: AlleleNomenclatureEventSlotAnnotation
    range: VocabularyTerm

  nomenclature_event_name:
    description: >-
      Name of the VocabularyTerm describing the nomenclature event
    domain: AlleleNomenclatureEventSlotAnnotationDTO
    range: string

  allele_secondary_ids:
    description: Secondary IDs of a given allele
    domain: Allele
    range: AlleleSecondaryIdSlotAnnotation
    multivalued: true

  allele_secondary_id_dtos:
    domain: AlleleDTO
    range: AlleleSecondaryIdSlotAnnotationDTO
    multivalued: true
    inlined: true
    inlined_as_list: true

  allele_notes:
    description: Notes for a given allele
    domain: Allele
    range: AlleleNoteSlotAnnotation

  allele_note_dtos:
    domain: AlleleDTO
    range: AlleleNoteSlotAnnotationDTO
    multivalued: true

  allele_synonyms:
    description: Synonyms of a given allele
    domain: Allele
    range: Synonym
    multivalued: true

  allele_synonym_dtos:
    domain: AlleleDTO
    range: AlleleSynonymSlotAnnotationDTO
    multivalued: true
    inlined: true
    inlined_as_list: true

  allele_gene_associations:
    domain: Allele
    range: AlleleGeneAssociation
    multivalued: true

  allele_transcript_associations:
    domain: Allele
    range: AlleleTranscriptAssociation
    multivalued: true

  allele_protein_associations:
    domain: Allele
    range: AlleleProteinAssociation
    multivalued: true

  allele_variant_associations:
    domain: Allele
    range: AlleleVariantAssociation
    multivalued: true

  allele_construct_associations:
    domain: Allele
    range: AlleleConstructAssociation
    multivalued: true

  allele_cell_line_associations:
    domain: Allele
    range: AlleleCellLineAssociation
    multivalued: true

  allele_image_associations:
    domain: Allele
    range: AlleleImageAssociation
    multivalued: true

  allele_origin_associations:
    domain: Allele
    range: AlleleOriginAssociation
    multivalued: true
