id: https://github.com/alliance-genome/agr_curation_schema/src/schema/allele
name: Alliance-Schema-Prototype-Allele
title: Alliance Schema Prototype Allele

imports:
  - core
  - image
  - gene
  - variation
  - linkml:types
  - ontologyTerm
  - affectedGenomicModel

prefixes:
  alliance: 'http://alliancegenome.org/'
  linkml: 'https://w3id.org/linkml/'
  gff: 'https://w3id.org/gff'
  faldo: 'http://biohackathon.org/resource/faldo#'
  biolink: 'https://w3id.org/biolink/vocab/'
  NLMID: 'https://www.ncbi.nlm.nih.gov/nlmcatalog/?term='
  schema: 'http://schema.org/'

default_prefix: alliance
default_range: string

default_curi_maps:
  - obo_context
  - idot_context
  - semweb_context
  - monarch_context

emit_prefixes:
  - rdf
  - rdfs
  - xsd
  - owl

# Classes


classes:

  Allele:
    is_a: GenomicEntity
    description: >-
      One of multiple possible forms of a functional genomic
      element (most often described as a locus or gene),
      differing from the reference DNA sequence.  The genomic
      element can be endogenous or constructed.
    slots:
      - symbol
      - references
      - inheritance_mode
      - in_collection
      - is_extinct
      - sequencing_status
      - allele_mutation_types
      - allele_germline_transmission_status
      - allele_functional_impacts
      - allele_molecular_mutations
      - allele_database_status
      - allele_secondary_ids
      - allele_nomenclature_events
      - allele_notes
      - allele_synonyms
    exact_mappings:
      - SO:0001023
    slot_usage:
      synonyms:
        description: synonyms for allele names and synonyms
      aberration:
        notes: specific to FB
      symbol:
        required: true

  AlleleDTO:
    is_a: GenomicEntityDTO
    description: >-
      Ingest class for an Allele object
    slots:
      - symbol
      - reference_curies
      - inheritance_mode_name
      - in_collection_name
      - is_extinct
      - sequencing_status_name
      - allele_mutation_type_dtos
      - allele_germline_transmission_status_dto
      - allele_functional_impact_dtos
      - allele_molecular_mutation_dtos
      - allele_database_status_dto
      - allele_secondary_id_dtos
      - allele_nomenclature_event_dtos
      - allele_note_dtos
      - allele_synonym_dtos

  GenerationMethod:
    is_a: AuditedObject
    slots:
      - mutagenesis_method
      - mutagenesis_target

  GenerationMethodDTO:
    is_a: AuditedObjectDTO
    slots:
      - mutagenesis_method_name
      - mutagenesis_target

  AlleleMutationType:
    is_a: AuditedObject
    slots:
      - single_allele
      - mutation_types
      - evidence

  AlleleMutationTypeDTO:
    is_a: AuditedObjectDTO
    slots:
      - mutation_type_curies
      - evidence_curies

  AlleleGermlineTransmissionStatus:
    is_a: AuditedObject
    slots:
      - single_allele
      - germline_transmission_status
      - evidence

  AlleleGermlineTransmissionStatusDTO:
    is_a: AuditedObjectDTO
    slots:
      - germline_transmission_status_name
      - evidence_curies

  AlleleFunctionalImpact:
    is_a: AuditedObject
    slots:
      - single_allele
      - functional_impacts
      - evidence

  AlleleFunctionalImpactDTO:
    is_a: AuditedObjectDTO
    slots:
      - functional_impact_names
      - evidence_curies

  AlleleMolecularMutation:
    is_a: AuditedObject
    slots:
      - single_allele
      - molecular_mutations
      - evidence

  AlleleMolecularMutationDTO:
    is_a: AuditedObjectDTO
    slots:
      - molecular_mutation_names
      - evidence_curies

  AlleleDatabaseStatus:
    is_a: AuditedObject
    slots:
      - single_allele
      - database_status
      - evidence

  AlleleDatabaseStatusDTO:
    is_a: AuditedObject
    slots:
      - database_status_name
      - evidence_curies

  AlleleSecondaryId:
    is_a: AuditedObject
    slots:
      - single_allele
      - secondary_id
      - evidence

  AlleleSecondaryIdDTO:
    is_a: AuditedObjectDTO
    slots:
      - secondary_id
      - evidence_curies

  AlleleNomenclatureEvent:
    is_a: AuditedObject
    slots:
      - single_allele
      - nomenclature_event
      - evidence

  AlleleNomenclatureEventDTO:
    is_a: AuditedObjectDTO
    slots:
      - nomenclature_event_name
      - evidence_curies

  AlleleNote:
    is_a: AuditedObject
    slots:
      - single_allele
      - related_note
      - evidence

  AlleleNoteDTO:
    is_a: AuditedObjectDTO
    slots:
      - note_dto
      - evidence_curies

  AlleleSynonym:
    is_a: AuditedObject
    slots:
      - single_allele
      - synonym
      - synonym_scope
      - evidence

  AlleleSynonymDTO:
    is_a: AuditedObjectDTO
    slots:
      - synonym_dto
      - synonym_scope_name
      - evidence_curies

# Allele Associations

  AlleleGenerationMethodAssociation:
    is_a: Association
    slots:
      - evidence
      - mutation_target_strain
    slot_usage:
      subject:
        range: Allele
      object:
        range: GenerationMethod

  AlleleGenerationMethodAssociationDTO:
    is_a: AuditedObjectDTO
    slots:
      - allele_curie
      - predicate_name
      - generation_method_dto
      - evidence_curies
      - mutation_target_strain_curie

  AlleleGenomicEntityAssociation:
    is_a: Association
    abstract: true
    description: >-
      Association between an allele and a genomic entity
    slots:
      - evidence
      - evidence_code
      - related_note
    slot_usage:
      subject:
        range: Allele
      predicate:
        range: ROTerm
      object:
        range: GenomicEntity
      evidence:
        required: true

  AlleleGenomicEntityAssociationDTO:
    is_a: AuditedObjectDTO
    abstract: true
    slots:
      - allele_curie
      - ro_term_curie
      - evidence_curies
      - evidence_code_curie
      - note_dto
    slot_usage:
      evidence_curies:
        required: true

  AlleleGeneAssociation:
    is_a: AlleleGenomicEntityAssociation
    description: >-
      Association between an allele and a gene
    slot_usage:
      object:
        range: Gene

  AlleleGeneAssociationDTO:
    is_a: AlleleGenomicEntityAssociationDTO
    slots:
      - gene_curie

  AlleleTranscriptAssociation:
    is_a: AlleleGenomicEntityAssociation
    description: >-
      Association between an allele and a transcript
    slot_usage:
      object:
        range: Transcript

  AlleleTranscriptAssociationDTO:
    is_a: AlleleGenomicEntityAssociationDTO
    slots:
      - transcript_curie

  AlleleProteinAssociation:
    is_a: AlleleGenomicEntityAssociation
    description: >-
      Association between an allele and a protein
    slot_usage:
      object:
        range: Protein

  AlleleProteinAssociationDTO:
    is_a: AlleleGenomicEntityAssociationDTO
    slots:
      - protein_curie

  AlleleVariantAssociation:
    is_a: AlleleGenomicEntityAssociation
    description: >-
      The relationship between an allele and a variant is many to many. An
      Allele may have many variants and a variant can be present in many
      alleles.
    slot_usage:
      subject:
        range: Allele
      object:
        range: Variant

  AlleleVariantAssociationDTO:
    is_a: AlleleGenomicEntityAssociationDTO
    slots:
      - variant_curie

  AlleleConstructAssociation:
    is_a: AlleleGenomicEntityAssociation
    description: >-
      The relationship between an allele and constructs contained in
      that allele.
    slot_usage:
      subject:
        range: Allele
      predicate:
        notes: RO:0001019 (contains)
      object:
        range: Construct

  AlleleConstructAssociationDTO:
      is_a: AlleleGenomicEntityAssociationDTO
      slots:
        - construct_curie

  AlleleCellLineAssociation: # do mutant/parent/embryonic cell line associations need to be split out?
    is_a: Association
    description: >-
      The relationship between an allele and a cell line.  Includes mutant/
      embryonic stem cell lines known to carry the allele, and parental cell
      line of alleles made in embryonic stem cells.
    slot_usage:
      subject:
        range: Allele
      predicate:
        range: VocabularyTerm
      object:
        range: CellLine

  AlleleCellLineAssociationDTO:
      is_a: AuditedObjectDTO
      slots:
        - allele_curie
        - predicate_name
        - cell_line_curie

  AlleleImageAssociation:
    is_a: Association
    description: >-
      The relationship between an allele and an image.
    slots:
      - primary_image
    slot_usage:
      subject:
        range: Allele
      predicate:
        range: VocabularyTerm
      object:
        range: Image
      primary_image:
        description: >-
          Can be null; if false, maybe you would show all the images.
          We need to revisit this issue.

  AlleleImageAssociationDTO:
    is_a: AuditedObjectDTO
    slots:
      - allele_curie
      - predicate_name
      - image_curie
      - primary_image

  AlleleOriginAssociation:
    is_a: Association
    description: >-
      The relationship between an allele and the origin of the allele.
    slot_usage:
        subject:
            range: Allele
        object:
            range: AffectedGenomicModel

  AlleleOriginAssociationDTO:
    is_a: AuditedObjectDTO
    slots:
      - allele_curie
      - predicate_name
      - agm_curie

# Other classes roughly grouped with the Allele class because they have relationships to Allele and were
# designed close to the time the Allele class was designed.  These could be broken out into their own yaml files.

  Construct:
    is_a: GenomicEntity
    description: >-
    slot_usage:
      curie:
        identifier: true
      name:
        required: true
    slots:
      - construct_components
      - references

  CellLine:
    is_a: GenomicEntity
    description: >-
      Dummy cell line class

  SequenceTargetingReagent:
    description: >-
    is_a: GenomicEntity
    slots:
      - references
    slot_usage:
      curie:
        identifier: true
      name:
        required: true

  SequenceTargetingReagentToGeneAssociation:
    description: the relationship between a Sequence Targeting Reagent and its targeted genes.
    is_a: Association
    slots:
      - references
    slot_usage:
      predicate:
        range: sqtr_relation_enum
      subject:
        range: SequenceTargetingReagent
      object:
        range: Gene

  ConstructComponentAssociation:
    is_a: Association
    slot_usage:
      predicate:
        range: construct_component_relation_enum
      subject:
        range: Construct
      object:
        range: ConstructComponent

  ConstructComponent:
    is_a: GenomicEntity
    slots:
      - symbol

# Slots
slots:

  primary_image:
    description: >-
      The primary image for an allele that is used to represent the allele on a page.

  origin:
    range: boolean

  single_allele:
    range: Allele

  allele_curie:
    range: string
    required: true

  ro_term_curie:
    range: string
    required: true

  construct_curie:
    range: string
    required: true

  cell_line_curie:
    range: string
    required: true

  mutagenesis_method:
    alias: ["mutagen"]
    range: VocabularyTerm
    description: >-
      Technique used to create the allele, e.g.
      spontaneous / naturally occurring / radiation-induced / recombinant /
      ENU / CRISPR / TALEN / gamma rays / not specified / spontaneous / DNA /
      DNA AND CRISPR / DNA and TALEN / zinc finger nuclease / EMS

  mutagenesis_method_name:
    description: >-
      Name of the VocabularyTerm describing the mutagenesis method, e.g.
      spontaneous / naturally occurring / radiation-induced / recombinant /
      ENU / CRISPR / TALEN / gamma rays / not specified / spontaneous / DNA /
      DNA AND CRISPR / DNA and TALEN / zinc finger nuclease / EMS
    domain: AlleleGenerationMethodAssociationDTO
    range: string

  mutagenesis_target:
    alias: ["mutagee"]
    description: >-
      The target of the mutation, e.g. strain / adult females /
      adult males / embryos / sperm / not specified
    range: string # VocabularyTerm?

  mutation_target_strain:
    description: >-
      The particular strain (solely for and from MGI) that is targeted
      by the generation method for a particular allele.
    range: AffectedGenomicModel

  mutation_target_strain_curie:
    description: >-
      Curie of the particular strain that is targeted by the generation method
      for a particular allele (MGI only)
    domain: AlleleGenerationMethodAssociationDTO
    range: string

  generation_method_dto:
    domain: AlleleGenerationMethodAssociationDTO
    range: GenerationMethodDTO

  construct_components:
    multivalued: true
    domain: Construct
    range: GenomicEntity

  allele_molecular_mutations:
    description: Molecular mutations of a given allele
    domain: Allele
    range: AlleleMolecularMutation
    multivalued: true

  molecular_mutations:
    description: >-
      Description of the DNA changes if precise
      genomic location unknown
    domain: AlleleMolecularMutation
    range: string
    multivalued: true

  allele_molecular_mutation_dtos:
    domain: AlleleDTO
    range: AlleleMolecularMutationDTO
    multivalued: true
    inlined: true
    inlined_as_list: true

  molecular_mutation_names:
    description: >-
      Name of the VocabularyTerm describing the molecular mutation
    domain: AlleleMolecularMutationDTO
    range: string
    multivalued: true

  allele_mutation_types:
    description: Mutation types for a given allele
    domain: Allele
    range: AlleleMutationType
    multivalued: true

  allele_mutation_type_dtos:
    domain: AlleleDTO
    range: AlleleMutationTypeDTO
    multivalued: true
    inlined: true
    inlined_as_list: true

  mutation_types:
    description: SO term for type of mutation
    domain: AlleleMutationType
    range: SOTerm
    multivalued: true

  mutation_type_curies:
    description: Curies of SOTerms representing mutation type
    domain: AlleleMutationTypeDTO
    range: string
    multivalued: true

  allele_functional_impacts:
    description: Functional impacts of a given allele
    domain: Allele
    range: AlleleFunctionalImpact
    multivalued: true

  allele_functional_impact_dtos:
    domain: AlleleDTO
    range: AlleleFunctionalImpactDTO
    multivalued: true
    inlined: true
    inlined_as_list: true

  functional_impacts:
    description: >-
      Experimentally assessed functional impact of the
      allele, e.g. knockout / amorphic
    domain: AlleleFunctionalImpact
    range: VocabularyTerm
    multivalued: true

  functional_impact_names:
    description: >-
      Name of the VocabularyTerm describing the functional impact
    domain: AlleleFunctionalImpactDTO
    range: string
    multivalued: true

  allele_germline_transmission_status:
    description: Germline transmission status for a given allele
    domain: Allele
    range: AlleleGermlineTransmissionStatus

  allele_germline_transmission_status_dto:
    domain: AlleleDTO
    range: AlleleGermlineTransmissionStatusDTO
    inlined: true

  germline_transmission_status:
    description: >-
      For alleles made in cell lines, have they been
      transmitted to the germline of an animal
    domain: AlleleGermlineTransmissionStatus
    range: VocabularyTerm

  germline_transmission_status_name:
    description: >-
      Name of the VocabularyTerm representing the germline transmission
      status
    domain: AlleleGermlineTransmissionStatusDTO
    range: string

  allele_database_status:
    description: Database status of a given allele
    domain: Allele
    range: AlleleDatabaseStatus

  allele_database_status_dto:
    domain: AlleleDTO
    range: AlleleDatabaseStatusDTO
    inlined: true

  database_status:
    description: >-
      Database status of the allele
    domain: AlleleDatabaseStatus
    range: VocabularyTerm

  database_status_name:
    description: >-
      Name of the VocabularyTerm describing the database status
    domain: AlleleDatabaseStatusDTO
    range: string

  inheritance_mode:
    description: >-
      Mode of inheritance, e.g. dominant / semi-dominant /
      recessive / unknown
      # TODO: please enumerate the difference between this and zygosity in AffectedGenomicModel class.
    domain: Allele
    range: VocabularyTerm

  inheritance_mode_name:
    description: >-
      Name of VocabularyTerm describing the inheritance mode
    domain: AlleleDTO
    range: string

  in_collection:
    description: >-
      Set of high-throughput alleles made by large projects
    domain: Allele
    range: VocabularyTerm

  in_collection_name:
    description: >-
      Name of VocabularyTerm describing the collection
    domain: AlleleDTO
    range: string

  transposon_insertion:
    description: >-
      Associated transposon insertion that causes the
      mutation
    domain: Allele
    range: string

  aberration:
    description: >-
      Associated deficiency (etc.) whose breakpoint causes
      the mutation
    domain: Allele
    range: string

  is_extinct:
    description: >-
      Does the allele still exist in a population somewhere?
    domain: Allele
    range: boolean

  sequencing_status:
    description: >-
      Status of whether or not the variant genomic location has been verified
      by sequencing
    domain: Allele
    range: VocabularyTerm

  sequencing_status_name:
    description: >-
      Name of VocabularyTerm describing the sequencing status
    domain: AlleleDTO
    range: string

  analyses:
    description: >-
      # TODO: added as a result of 'origin' class - please advise on a more descriptive slot/class definition.

  allele_nomenclature_events:
    description: Nomenclature events of a given allele
    domain: Allele
    range: AlleleNomenclatureEvent
    multivalued: true

  allele_nomenclature_event_dtos:
    domain: AlleleDTO
    range: AlleleNomenclatureEventDTO
    multivalued: true
    inlined: true
    inlined_as_list: true

  nomenclature_event:
    description: >-
      any of the kinds of changes made to an object's name or symbol
    notes: >-
      permissible_values: named/renamed
    domain: AlleleNomenclatureEvent
    range: VocabularyTerm

  nomenclature_event_name:
    description: >-
      Name of the VocabularyTerm describing the nomenclature event
    domain: AlleleNomenclatureEventDTO
    range: string

  allele_secondary_ids:
    description: Secondary IDs of a given allele
    domain: Allele
    range: AlleleSecondaryId
    multivalued: true

  allele_secondary_id_dtos:
    domain: AlleleDTO
    range: AlleleSecondaryIdDTO
    multivalued: true
    inlined: true
    inlined_as_list: true

  allele_notes:
    description: Notes for a given allele
    domain: Allele
    range: AlleleNote

  allele_note_dtos:
    domain: AlleleDTO
    range: AlleleNoteDTO
    multivalued: true

  allele_synonyms:
    description: Synonyms of a given allele
    domain: Allele
    range: Synonym
    multivalued: true

  allele_synonym_dtos:
    domain: AlleleDTO
    range: AlleleSynonymDTO
    multivalued: true
    inlined: true
    inlined_as_list: true

enums:
  construct_component_relation_enum:
    permissible_values:
      expresses:
        meaning: RO:0002292
      is_regulated_by:
        meaning: RO:0002334
      targets:
        meaning: RO:0002436

  sqtr_relation_enum:
    permissible_values:
      targets:
